<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Котлетка</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container container--flex container--header">
            <img src="img/logo.png" alt="logo" class="header--logo">
            <nav class="header--navigation container--flex ">
                <ul class="header--link--items container--flex">
                    <li class="header--link--item"><a href="index.html" class="header--link">Главная</a></li>
                    <li class="header--link--item"><a href="catalog.html" class="header--link">Каталог</a></li>
                    <li class="header--link--item"><a href="aboutus.html" class="header--link">О нас</a></li>
                    <li class="header--link--item"><a href="#" class="header--link">Помощь</a></li>
                </ul>
                <img src="img/basket.png" alt="basket" class="header--bascet">
            </nav>
        </div>
    </header>
    <main>
        <section>
            <div class="container container--flex container-comment">
                <div class="comment">
                    <h2 class="h2-comment">Оставить отзыв</h2>
                        <form action="" method="post" class="comment-form">
                            <span class="user-name-1">Анонимный покупатель</span>
                            <textarea class="area-text-otz" id="" maxlength=300 placeholder="Оставить отзыв" required></textarea>
                            <button class="button-submit" type="submit"></button>
                        </form>
                    
                    <div class="otzs">
                        <ol class="comment-list">
                            
                        </ol>
                        <template id="message-template">
                            <li class="user-comment container--flex">
                                <div class="user-info">
                                    <span class="user-name">Анонимный покупатель</span>
                                    <span class="user-time"></span>
                                    <span class="comment-text"></span>
                                </div>
                            </li>
                        </template>
                    </div>
                </div>
                <div class="container--flex about-container">
                    <h2 class="about-s1-title-contacts">Контакты</h2>
                    <p class="about-contact-item">Адрес: г.Ставрополь</p>
                    <p class="about-contact-item">График работы: 24/7</p>
                    <p class="about-contact-item">Телефон: 89898989898</p>
                    <div class="container-map">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d45091.84476676838!2d41.95963242378904!3d45.06063627778493!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1z0LrQsNGA0YLRiw!5e0!3m2!1sru!2sru!4v1699205166059!5m2!1sru!2sru" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
            
        </section>
    </main>

    <script>
        var otzList = document.querySelector('.comment-list');
        var otzFomr = document.querySelector('.comment-form');
        var otzInput = document.querySelector('.area-text-otz');
        var otzTemplate = document.querySelector('#message-template').content;

        var otz = otzTemplate.querySelector('.user-comment')


        otzFomr.addEventListener('submit', function(evt) {
            evt.preventDefault();

            let date = new Date()
            var dataInput = {
                userTime: date.getDate() +'.' + date.getMonth() + 1 + '.' + date.getFullYear() + '  '+ date.getHours() + ':' + date.getMinutes(),
                userName: 'Анонимный покупатель',
                otzText: otzInput.value,
            }
            var newOtz = otz.cloneNode(true);

            var newOtzT = newOtz.querySelector('.user-time')
            newOtzT.textContent = dataInput.userTime;

            var newOtzT = newOtz.querySelector('.comment-text')
            newOtzT.textContent = dataInput.otzText;

            otzList.appendChild(newOtz);

            otzInput.value = '';
        })
    </script>
</body>
</html>